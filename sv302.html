<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="general.css"> <!-- Enlace a CSS general-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkqsA6mOMmGiFSl5Y2nVrG5AsCqtDpkRjgnb4e1BIeKHl++SkaG9gF" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeo5s4KCmOIdb+3zGjA7IIb7rHgATl+0BfF5LG5czJj7Sk7g" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <title>3DiTella</title>
</head>
<body>
    <!-- The overlay -->
    <div id="myNav" class="overlay">
        <!-- Button to close the overlay navigation -->
        <a href="javascript:void(0)" class="closebtn btn" onclick="closeNav()">&times;</a>
        
        <!-- Overlay content -->
        <div class="overlay-content">
            <ol>
                <li class="titulo">Controles con teclas: </li>
                    <ul>
                        <li>Teclas de <span style="font-weight: bold;">flecha izquierda/derecha</span> para moverse de <span style="font-weight: bold;">lado a lado</span></li>
                        <li>Teclas de <span style="font-weight: bold;">flecha arriba/abajo</span> para moverse hacia <span style="font-weight: bold;">adelante/atrás</span></li>
                        <li><span class="resaltar">A</span> o <span class="resaltar">D</span> para girar la cámara a la izquierda/derecha</li>
                        <li><span class="resaltar">W</span> o <span class="resaltar">S</span> para inclinar la cámara hacia arriba/abajo</li>
                        <li><span class="resaltar">R</span> para reiniciar el recorrido</li>
                    </ul>
                
                <li class="titulo">Trackpad:</li>
                    <ul>
                        <li>Desplazar hacia arriba/abajo/izquierda/derecha para orbitar</li>
                        <li>Pellizcar para moverse hacia adelante/atrás</li>
                        <li><span class="resaltar">Crtl</span><span class="resaltar">+</span>desplazamiento para moverse hacia adelante/atrás</li>
                        <li><span class="resaltar">Shift</span><span class="resaltar">+</span> desplazamiento para moverse hacia arriba/abajo o moverse de lado a lado</li>
                    </ul>
                
                <li class="titulo">Otros:</li>
                    <ul>
                        <li>Pulsar '-' o '+' para alternar las cámaras cargadas</li>
                    </ul>
            </ol>
        </div>
    </div>

    <!-- Use any element to open/show the overlay navigation menu -->
     <div class="inst">
        <span id = "inst" class="btn" onclick="openNav()" style="font-weight: bold; font-size: 1.2em; display: none;">?</span>
     </div>

    <!-- Panel de onboarding -->
    <div id="onboardingPanel" class="onboarding-panel">
        <button class="closebtn" onclick="skipOnboarding()">Saltear</button>
        <div id="onboardingContent">
            <div class="onboarding-step" id="step1">
                <h2>Bienvenido a la clase SV302</h2>
                <p>Aquí podras ver de cerca y en 3D al una clase típica ditelliana.</p>
            </div>
            <div class="onboarding-step" id="step2">
                <h2>Navegación</h2>
                <p>Así podrás desplazarte de un lado a otro, y también hacia adelante y atrás.</p>
                <p><strong>¡Inténtalo!</strong></p>
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col text-start">
                            <h4>Teclas:</h4>
                            <svg class="arrow" viewBox="0 0 24 24" style="transform: scale(-1, 1);">
                                <polygon points="12,2 22,12 12,22 12,17 2,17 2,7 12,7" fill="rgba(0, 0, 0, 0.7)" />
                            </svg>
                            <svg class="arrow" viewBox="0 0 24 24">
                                <polygon points="12,2 22,12 12,22 12,17 2,17 2,7 12,7" fill="rgba(0, 0, 0, 0.7)" />
                            </svg>
                            <svg class="arrow" viewBox="0 0 24 24">
                                <polygon points="12,2 2,12 7,12 7,22 17,22 17,12 22,12" fill="rgba(0, 0, 0, 0.7)" />
                            </svg>
                            <svg class="arrow" style="transform: rotate(180deg);" viewBox="0 0 24 24">
                                <polygon points="12,2 2,12 7,12 7,22 17,22 17,12 22,12" fill="rgba(0, 0, 0, 0.7)" />
                            </svg>
                        </div>
                        <div class="col text-end">
                            <h4>Trackpad/mouse:</h4>
                            <div class="trackpad-instruction">
                                <img src="imagenes/icono_pellizcar_negro.png" alt="Icono Pellizcar" class="arrow pellizcar">
                                <p><strong>Pellizca</strong> para mover adelante/atrás.</p>
                            </div>
                            <div class="trackpad-instruction">
                                <img src="imagenes/icono_desplazar_negro.png" alt="Icono Desplazar" class="arrow desplazar">
                                <p><span class="resaltar">Ctrl</span> y <strong>desplaza</strong> para mover izquierda/derecha</p>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="onboarding-step" id="step3" style="display: none;">
                <h2>Control de la cámara</h2>                
                <p>Para explorar otros puntos, aprende a girar la cámara de izquierda a derecha (teclas <strong>A</strong> y <strong>D</strong>) y también arriba y abajo (teclas <strong>W</strong> y <strong>S</strong>).</p>
                <p>¡Haz la prueba!</p>
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col text-start">
                            <h4>Teclas:</h4>
                            <div class="arrow">A</div>
                            <div class="arrow">D</div>
                            <div class="arrow">W</div>
                            <div class="arrow">S</div>
                        </div>
                        <div class="col text-end">
                            <h4>Trackpad/mouse:</h4>
                            <div class="trackpad-instruction">
                                <img src="imagenes/icono_desplazar_negro.png" alt="Icono Desplazar" class="arrow desplazar">
                                <p>Desplazar hacia arriba/abajo/izquierda/derecha para orbitar</p>                            
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="onboarding-step" id="step4" style="display: none;">
                <h2>Comandos extras</h2>
                <p>Pulsa <span class="resaltar">R</span> para reiniciar el recorrido en cualquier momento.</p>
                <p>Pulsa <span class="resaltar">P</span> para reanudar la animación predeterminada.</p>
            </div>
            <div class="onboarding-step" id="step5" style="display: none;">
                <h2>Comienza tu recorrido</h2>
                <p>Para ver las instrucciones haz clic en el icono <span class="ic">?</span> que se encuentra <strong>arriba a la derecha.</strong></p>
            </div>
            <div class="onboarding-step" id="step6" style="display: none;">
                <h2>Sigue recorriendo</h2>
                <p>Para recorrer otros espacios haz click en "Continuar", para volver al inicio haz click en "Inicio" que se encontrarán <strong>abajo a la izquierda.</strong></p>
            </div>
        </div>
        <div class="navigation-buttons">
            <button id="prevButton" class="nav-button btn">Anterior</button>
            <button id="nextButton" class="nav-button btn">Siguiente</button>
        </div>
    </div>

    <!-- Panel de Consejos -->
    <div id="tips" class="tips">
        <button onclick="toggleTips()" id="toggleTipsButton" class="minimize-btn closebtn">Cerrar</button> <!-- Botón para minimizar -->
        <div class="tips-content">
            <h4>Consejos</h4>
            <div class="keyboard-tips">
                <p>Adelante - Atrás - Derecha - Izquierda</p>
                <div>
                    <svg class="a" viewBox="0 0 24 24" style="transform: scale(-1, 1);">
                        <polygon points="12,2 22,12 12,22 12,17 2,17 2,7 12,7" fill="black" />
                    </svg>
                    <svg class="a" viewBox="0 0 24 24">
                        <polygon points="12,2 22,12 12,22 12,17 2,17 2,7 12,7" fill="black" />
                    </svg>
                </div>
                <div>
                    <svg class="a" viewBox="0 0 24 24">
                        <polygon points="12,2 2,12 7,12 7,22 17,22 17,12 22,12" fill="black" />
                    </svg>
                    <svg class="a" style="transform: rotate(180deg);" viewBox="0 0 24 24">
                        <polygon points="12,2 2,12 7,12 7,22 17,22 17,12 22,12" fill="black" />
                    </svg>
                </div>
            </div>
            <div class="trackpad-instruction">
                <img src="imagenes/icono_pellizcar_negro.png" alt="Icono Pellizcar" class="a pellizcar">
                <p>Adelante/atrás.</p>
            </div>
            <div class="trackpad-instruction">
                <img src="imagenes/icono_desplazar_negro.png" alt="Icono Desplazar" class="a desplazar">
                <p><span class="resaltar">Ctrl</span> e izquierda/derecha.</p>
            </div>
            <div class="trackpad-tips">
                <p>Rotación</p>
                <div class="a">A</div>
                <div class="a">D</div>
                <div class="a">W</div>
                <div class="a">S</div>
                <div class="trackpad-instruction">
                    <img src="imagenes/icono_desplazar_negro.png" alt="Icono Desplazar" class="a desplazar">
                    <p>Arriba / abajo / izquierda / derecha para orbitar</p>                            
                </div>
            </div>
        </div>
    </div>

    <!--Botones para navegar fuera del espacio-->
    <div class="botones">
        <a id="espacioInicio" class="boton btn" href="cargar.html?destino=lobby.html">Volver a inicio</a>
        <a id="espacioIr" class="boton btn" href="cargar.html?destino=pasillo.html">Volver a Pasillo Histórico</a>
    </div>

    <main>
        <script>
            if (location.host.includes("hf.space")) document.body.classList.add("nohf");
        </script>
    
        <!-- Otros elementos en la página -->
        <div id="progress"></div>
        <div id="message"></div>
        <div class="scene" id="spinner">
            <div class="cube-wrapper">
                <div class="cube">
                    <div class="cube-faces">
                        <div class="cube-face bottom"></div>
                        <div class="cube-face top"></div>
                        <div class="cube-face left"></div>
                        <div class="cube-face right"></div>
                        <div class="cube-face back"></div>
                        <div class="cube-face front"></div> 
                    </div>
                </div>
            </div>
        </div>
        <canvas id="canvas"></canvas>
    
        <div id="quality">
            <span id="fps"></span>
        </div>
        <div id="caminfo">
            <span id="camid"></span>
        </div>
    </main>

    <!-- Cargar los JS -->
    <script src="js/render1.js"></script>
    <script src="js/general.js"></script>
</body>
</html>
